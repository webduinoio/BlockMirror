<html>

<head></head>

<body>

    <h2>測試 stdin</h2>
    <div id="output">
        ...
    </div>

    <script type="module">
        import { asyncRun } from "./js/py-worker.js";
        const script = `
import sys
print('start input')
s = input()
print('hello',s)
`;

        const context = {
            A_rank: [0.8, 0.4, 1.2, 3.7, 2.6, 5.8],
        };

        async function main() {
            try {
                const { results, error } = await asyncRun(script, context);
                if (results) {
                    console.log("pyodideWorker return results: ", results);
                } else if (error) {
                    console.log("pyodideWorker error: ", error);
                }
            } catch (e) {
                console.log(
                    `Error in pyodideWorker at ${e.filename}, Line: ${e.lineno}, ${e.message}`,
                );
            }
        }

        main();

    </script>

</body>

</html>